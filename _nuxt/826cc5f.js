(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{641:function(t,e,n){"use strict";n.r(e);var r=n(10),o=(n(45),n(57),n(204),{name:"news",data:function(){return{articles:[],currentPage:0,pageSize:10,total:1e3,loading:!1}},methods:{formatDate:function(t){return this.formatByIntl(t,{year:"numeric"})+"-"+this.formatByIntl(t,{month:"2-digit"})+"-"+this.formatByIntl(t,{day:"2-digit"})},formatByIntl:function(t,option){var e=new Date(t);return new Intl.DateTimeFormat("en",option).format(e)},handleCurrentChange:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.currentPage=t,n.next=3,e.queryContent(e.currentPage);case 3:r=n.sent,e.articles=JSON.parse(JSON.stringify(r));case 5:case"end":return n.stop()}}),n)})))()},queryContent:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loadingCheck(),r=e.pageSize,o=(t-1)*r,n.next=5,e.$content("news").only(["title","description","img","slug","author","date"]).sortBy("date","desc").skip(o).limit(r).fetch();case 5:return c=n.sent,e.loadingCheck(),n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})))()},loadingCheck:function(){this.loading=!this.loading}},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingCheck(),e.next=3,t.$content("news").only(["title","description","img","slug","author","date"]).sortBy("date","desc").fetch();case 3:n=e.sent,t.total=n.length,t.articles=n.slice(0,t.pageSize),console.log(n),t.currentPage=1,t.loadingCheck();case 9:case"end":return e.stop()}}),e)})))()}}),c=n(23),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticStyle:{margin:"0",padding:"0"}},[e("div",{attrs:{id:"news-page-title"}},[t._v("NEWS HISTORY")]),t._v(" "),e("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{id:"news-page-list"}},[t._l(t.articles,(function(article){return[e("li",{key:article.slug},[e("div",[e("div",{staticClass:"article-block"},[e("NuxtLink",{attrs:{to:{name:"news-page",params:{page:article.slug}}}},[e("div",{staticClass:"article-title"},[t._v("\n                "+t._s(article.title)+"\n              ")])]),t._v(" "),e("div",{staticClass:"article-detail-container"},[e("div",{staticClass:"article-time"},[t._v("\n                "+t._s(article.date)+"\n              ")]),t._v(" "),e("div",{staticClass:"article-author"},[t._v("\n                "+t._s(article.author)+"\n              ")])])],1)])])]}))],2),t._v(" "),e("div",{attrs:{id:"news-page-pagination"}},[e("el-pagination",{attrs:{background:"","hide-on-single-page":"",layout:"prev, pager, next",total:t.total,"current-page":t.currentPage,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}})],1)])}),[],!1,null,"51936487",null);e.default=component.exports}}]);